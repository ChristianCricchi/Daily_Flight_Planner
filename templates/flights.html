{% extends "base.html" %}
{% block content %}


<h3 class="white-text text-darken-4 center-align pink" style="margin-top: 25px; font-size: 2.5rem; padding: 15px 0;">All Daily Flights</h3>

<div class="container white">
    <ul class="collapsible">
        {% for flight in flights %}
        <li>
            <div class="collapsible-header white-text pink darken-4 text-shadow">
                <div class="col s3">
                    <i class="fas fa-angle-down"></i>
                    {% if session.user|lower == flight.created_by|lower %}
                    <div class="button-container">
                        <a href="{{ url_for('dispatched_flight', flight_id=flight._id) }}" class="btn-small green accent-4 confirm-btn">Dispatched</a>
                        <a href="{{ url_for('edit_flight', flight_id=flight._id) }}" class="btn-small light-blue accent-4 confirm-btn">Edit</a>
                    </div>
                    {% endif %}
                </div>
                
                <div class="col s9">
                    <strong>{{ flight.dispatch_name }}</strong> : {{ flight.date }}
                    {% if flight.special_assistance == "on" %}
                        <i class="fas fa-exclamation-circle white-text text-lighten-2 tooltipped"
                        data-position="right" data-tooltip="Special Assistance!"></i>
                    {% endif %}
                </div>

            </div>
            <div class="collapsible-body">
                  <!-- stand section -->
            <div class="row">
                <div class="input-field col s6">
                    <i class="fas fa-thin fa-parking prefix text-darken-4" style="color: #e91e63;"></i>
                    <input id="stand" name="stand" minlength="2" maxlength="20"
                        value="{{ flight.stand }}" type="text" class="validate" required>
                    <label for="stand">Stand</label>
                </div>

                <!-- comment section -->
                <div class="input-field col s6">
                    <i class="fas fa-thin fa-comments prefix prefix text-darken-4" style="color: #e91e63;"></i>
                    <textarea id="comments" name="comments" minlength="5"
                        maxlength="250" class="materialize-textarea validate" required>{{- flight.comments -}}</textarea>
                    <label for="comments">Comments</label>
                </div>
            </div>

            <!-- type of aircraft section -->
            <div class="row">
                <div class="input-field col s6">
                    <i class="fas fa-thin fa-plane prefix text-darken-4" style="color: #e91e63;"></i>
                    <textarea id="aircraft" name="aircraft" minlength="2"
                        maxlength="20" class="materialize-textarea validate" required>{{- flight.aircraft -}}</textarea>
                    <label for="aircraft">Aircraft</label>
                </div>

                <!-- registration section -->
                <div class="input-field col s6">
                    <i class="fas fa-thin fa-plane prefix text-darken-4" style="color: #e91e63;"></i>
                    <textarea id="registration" name="registration" minlength="2"
                        maxlength="20" class="materialize-textarea validate" required>{{- flight.registration -}}</textarea>
                    <label for="registration">Registration</label>
                </div>
            </div>

            <!-- from section -->
            <div class="row">
                <div class="input-field col s6">
                    <i class="fas fa-map-marker-alt prefix text-darken-4" style="color: #f06292;"></i>
                    <textarea id="from" name="from" minlength="2"
                        maxlength="20" class="materialize-textarea validate" required>{{- flight.from -}}</textarea>
                    <label for="from">From</label>
                </div>


                <!-- flight inbound section -->
                <div class="input-field col s6">
                    <i class="fas fa-thin fa-plane-arrival prefix text-darken-4" style="color: #f06292;"></i>
                    <textarea id="flight_inbound" name="flight_inbound" minlength="2"
                        maxlength="20" class="materialize-textarea validate" required>{{- flight.flight_inbound -}}</textarea>
                    <label for="flight_inbound">Flight In</label>
                </div>
            </div>

            <!-- sta section -->
            <div class="row">
                <div class="input-field col s6">
                    <i class="fas fa-thin fa-plane-arrival prefix text-darken-4" style="color: #f06292;"></i>
                    <textarea id="sta" name="sta" minlength="2"
                        maxlength="20" class="materialize-textarea validate" required>{{- flight.sta -}}</textarea>
                    <label for="sta">STA</label>
                </div>

                <!-- passenger inbound section -->
                <div class="input-field col s6">
                    <i class="fas fa-thin fa-plane-arrival prefix text-darken-4" style="color: #f06292;"></i>
                    <textarea id="pax_inbound" name="pax_inbound" minlength="2"
                        maxlength="20" class="materialize-textarea validate" required>{{- flight.pax_inbound -}}</textarea>
                    <label for="pax_inbound">Pax In</label>
                </div>
            </div>

            <!-- arrival section -->
            <div class="row">
                <div class="input-field col s6">
                    <i class="fas fa-thin fa-plane-arrival prefix text-darken-4" style="color: #f06292;"></i>
                    <textarea id="arrival" name="arrival" minlength="2"
                        maxlength="20" class="materialize-textarea validate" required>{{- flight.arrival -}}</textarea>
                    <label for="arrival">Arrival</label>
                </div>

                <!-- flight outbound section -->
                <div class="input-field col s6">
                    <i class="fas fa-thin fa-plane-departure prefix text-darken-4" style="color: #ad1457;"></i>
                    <textarea id="flight_outbound" name="flight_outbound" minlength="2"
                        maxlength="20" class="materialize-textarea validate" required>{{- flight.flight_outbound -}}</textarea>
                    <label for="flight_outbound">Flight Out</label>
                </div>
            </div>

            <!-- to section -->
            <div class="row">
                <div class="input-field col s6">
                    <i class="fas fa-map-marker-alt prefix text-darken-4" style="color: #ad1457;"></i>
                    <textarea id="to" name="to" minlength="2"
                        maxlength="20" class="materialize-textarea validate" required>{{- flight.to -}}</textarea>
                    <label for="to">To</label>
                </div>

                <!-- std section -->
                <div class="input-field col s6">
                    <i class="fas fa-thin fa-plane-departure prefix text-darken-4" style="color: #ad1457;"></i>
                    <textarea id="std" name="std" minlength="2"
                        maxlength="20" class="materialize-textarea validate" required>{{- flight.std -}}</textarea>
                    <label for="std">STD</label>
                </div>
            </div>

            <!-- Passengers Outbound -->
            <div class="row">
                <div class="input-field col s6">
                    <i class="fas fa-thin fa-plane-departure prefix text-darken-4" style="color: #ad1457;"></i>
                    <textarea id="pax_outbound" name="pax_outbound" minlength="2"
                        maxlength="20" class="materialize-textarea validate" required>{{- flight.pax_outbound -}}</textarea>
                    <label for="pax_outbound">Pax Out</label>
                </div>

                <!-- gate section -->
                <div class="input-field col s6">
                    <i class="fas fa-thin fa-plane-departure prefix text-darken-4" style="color: #ad1457;"></i>
                    <textarea id="gate" name="gate" minlength="2"
                        maxlength="20" class="materialize-textarea validate" required>{{- flight.gate -}}</textarea>
                    <label for="gate">Gate</label>
                </div>

                <p><em>by: {{ flight.created_by }}</em></p>

            </div> 
        </li>
        {% endfor %}
    </ul>
    
    <!-- Modal Structure for confirmation -->
    <div id="confirm-modal" class="modal">
        <div class="modal-content">
            <h4>Confirm</h4>
            <p>Are you sure you want to continue?</p>
        </div>
        <div class="modal-footer">
            <a href="#!" class="modal-close waves-effect waves-green btn-flat">Cancel</a>
            <a href="#!" id="confirm-action" class="waves-effect waves-red btn-flat">Continue</a>
        </div>
    </div>
</div>

{% endblock %}

            